<Window x:Class="SkolaProgramiranja.Views.AdminView"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:SkolaProgramiranja.Views"
        xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
        mc:Ignorable="d"
        Title="Administracija kurseva"
        Height="600" Width="1000"
        WindowStartupLocation="CenterScreen"
        Background="{DynamicResource MaterialDesignPaper}">
    <Window.Resources>
        <!-- tvoja osnovna lavanda -->
        <SolidColorBrush x:Key="LavenderBase" Color="#E3DAF4"/>
        
    </Window.Resources>

    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="260"/>
            <ColumnDefinition Width="12"/>
            <ColumnDefinition Width="*"/>
        </Grid.ColumnDefinitions>
        <Rectangle Grid.Column="0" Fill="{DynamicResource LeftPaneBrush}"/>
        <Rectangle Grid.Column="1" Fill="{DynamicResource LeftPaneBrush}"/>


        <!-- SIDEBAR (Card) Background="#EAD7F5" UniformCornerRadius="16"-->
        <!-- Sidebar Card bez svoje pozadine da propusti lavandu -->
        <materialDesign:Card Grid.Column="0"
                     Padding="16"
                     Background="Transparent"
                     UniformCornerRadius="16">
          
        <ScrollViewer VerticalScrollBarVisibility="Auto">
                
                <StackPanel x:Name="SidebarPanel">

                    <!-- Naslov -->
                    <StackPanel Margin="0,0,0,12">
                        <TextBlock Text="{DynamicResource AdminPanel}"
                       FontSize="22" FontWeight="Bold"/>
                        <Separator Margin="0,8,0,0"/>
                    </StackPanel>

                    <!-- Kursevi -->
                    <TextBlock Text="Kursevi" Opacity="0.75" Margin="0,0,0,6"/>
                    <StackPanel materialDesign:ButtonAssist.CornerRadius="12">
                        <Button Style="{StaticResource MaterialDesignOutlinedButton}" Click="Dodaj_Click" Margin="0,4">
                            <StackPanel Orientation="Horizontal">
                                <materialDesign:PackIcon Kind="PlusBox" Width="20" Margin="0,0,8,0"/>
                                <TextBlock Text="{DynamicResource AddCourse}"/>
                            </StackPanel>
                        </Button>
                        <Button Style="{StaticResource MaterialDesignOutlinedButton}" Click="Uredi_Click" Margin="0,4">
                            <StackPanel Orientation="Horizontal">
                                <materialDesign:PackIcon Kind="PencilBox" Width="20" Margin="0,0,8,0"/>
                                <TextBlock Text="{DynamicResource EditCourse}"/>
                            </StackPanel>
                        </Button>
                        <Button Style="{StaticResource MaterialDesignOutlinedButton}" Click="Obrisi_Click" Margin="0,4">
                            <StackPanel Orientation="Horizontal">
                                <materialDesign:PackIcon Kind="DeleteSweep" Width="20" Margin="0,0,8,0"/>
                                <TextBlock Text="{DynamicResource DeleteCourse}"/>
                            </StackPanel>
                        </Button>
                    </StackPanel>

                    <Separator Margin="0,12"/>

                    <!-- Instruktori -->
                    <TextBlock Text="Instruktori" Opacity="0.75" Margin="0,0,0,6"/>
                    <StackPanel materialDesign:ButtonAssist.CornerRadius="12">
                        <Button Style="{StaticResource MaterialDesignOutlinedButton}" Click="DodajInstruktora_Click" Margin="0,4">
                            <StackPanel Orientation="Horizontal">
                                <materialDesign:PackIcon Kind="AccountPlus" Width="20" Margin="0,0,8,0"/>
                                <TextBlock Text="{DynamicResource AddInstructor}"/>
                            </StackPanel>
                        </Button>
                        <Button Style="{StaticResource MaterialDesignOutlinedButton}" Click="PregledajInstruktore_Click" Margin="0,4">
                            <StackPanel Orientation="Horizontal">
                                <materialDesign:PackIcon Kind="AccountDetails" Width="20" Margin="0,0,8,0"/>
                                <TextBlock Text="{DynamicResource ViewInstructors}"/>
                            </StackPanel>
                        </Button>
                    </StackPanel>

                    <Separator Margin="0,12"/>

                    <!-- Sistem -->
                    <TextBlock Text="Sistem" Opacity="0.75" Margin="0,0,0,6"/>
                    <Button Style="{StaticResource MaterialDesignOutlinedButton}"
                  Click="Odjava_Click"
                  materialDesign:ButtonAssist.CornerRadius="12">
                        <StackPanel Orientation="Horizontal">
                            <materialDesign:PackIcon Kind="LogoutVariant" Width="20" Margin="0,0,8,0"/>
                            <TextBlock Text="{DynamicResource Logout}"/>
                        </StackPanel>
                    </Button>

                    <Separator Margin="0,12"/>

                    <!-- Tema -->
                    <TextBlock Text="{DynamicResource Theme}" Opacity="0.75" Margin="0,0,0,6"/>
                    <StackPanel Orientation="Horizontal" HorizontalAlignment="Center">
                        <Button Content="Light" Click="TemaSvijetla_Click"
                    Style="{StaticResource MaterialDesignOutlinedButton}" Padding="10,4" Margin="4,0"/>
                        <Button Content="Dark" Click="TemaTamna_Click"
                    Style="{StaticResource MaterialDesignOutlinedButton}" Padding="10,4" Margin="4,0"/>
                        <Button Content="Purple" Click="TemaLjubičasta_Click"
                    Style="{StaticResource MaterialDesignOutlinedButton}" Padding="10,4" Margin="4,0"/>
                    </StackPanel>

                    <!-- Jezik -->
                    <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" Margin="0,8,0,0">
                        <Button Content="SR" Click="PromijeniJezikSrpski_Click"
                    Style="{StaticResource MaterialDesignOutlinedButton}" Padding="10,4" Margin="4,0"/>
                        <Button Content="EN" Click="PromijeniJezikEngleski_Click"
                    Style="{StaticResource MaterialDesignOutlinedButton}" Padding="10,4" Margin="4,0"/>
                    </StackPanel>

                </StackPanel>
            </ScrollViewer>
        </materialDesign:Card>

        <!-- Razmak kolona -->
        <Grid Grid.Column="1"/>

        <!-- GLAVNI SADRŽAJ (pretraga + tabela) -->
        <materialDesign:Card Grid.Column="2" Padding="16" UniformCornerRadius="16">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="*"/>
                </Grid.RowDefinitions>

                <!-- Naslov + pretraga -->
                <DockPanel Margin="0,0,0,8">
                    <TextBlock Text="{DynamicResource CourseList}"
                     FontSize="20" FontWeight="Bold"
                     Foreground="{DynamicResource PrimaryHueDarkBrush}"
                     DockPanel.Dock="Left" VerticalAlignment="Center"/>
                    <TextBox x:Name="txtSearch"
                   Width="260" Margin="12,0,0,0" DockPanel.Dock="Right"
                   materialDesign:HintAssist.Hint="Pretraga (naziv, instruktor)"
                   Style="{StaticResource MaterialDesignOutlinedTextBox}"
                   TextChanged="TxtSearch_TextChanged"/>
                </DockPanel>

                <!-- Tabela -->
                <DataGrid x:Name="dgKursevi"
                  Grid.Row="1"
                  AutoGenerateColumns="False"
                  IsReadOnly="True"
                  SelectionMode="Single"
                  HeadersVisibility="Column"
                  GridLinesVisibility="None"
                  AlternationCount="2"
                  AlternatingRowBackground="{DynamicResource MaterialDesignPaper}"
                  RowBackground="{DynamicResource MaterialDesignBackground}"
                  RowHeight="44"
                  materialDesign:DataGridAssist.CellPadding="12,8"
                  materialDesign:DataGridAssist.ColumnHeaderPadding="12,8"
                  Margin="0">
                    <DataGrid.ItemContainerStyle>
                        <Style TargetType="DataGridRow">
                            <EventSetter Event="MouseDoubleClick" Handler="DataGridRow_DoubleClick"/>
                        </Style>
                    </DataGrid.ItemContainerStyle>
                    <DataGrid.Resources>
                        <Style TargetType="DataGridColumnHeader">
                            <Setter Property="FontWeight" Value="SemiBold"/>
                            <Setter Property="Foreground" Value="{DynamicResource PrimaryHueDarkBrush}"/>
                            <Setter Property="HorizontalContentAlignment" Value="Left"/>
                            <Setter Property="Padding" Value="12,8"/>
                        </Style>
                        <Style TargetType="DataGridRow">
                            <Setter Property="Margin" Value="0,2"/>
                            <Setter Property="SnapsToDevicePixels" Value="True"/>
                            <Style.Triggers>
                                <Trigger Property="IsMouseOver" Value="True">
                                    <Setter Property="Background" Value="{DynamicResource MaterialDesignCardBackground}"/>
                                </Trigger>
                                <Trigger Property="IsSelected" Value="True">
                                    <Setter Property="Background" Value="{DynamicResource PrimaryHueLightBrush}"/>
                                    <Setter Property="Foreground" Value="{DynamicResource PrimaryHueLightForegroundBrush}"/>
                                </Trigger>
                            </Style.Triggers>
                        </Style>
                    </DataGrid.Resources>

                    <DataGrid.Columns>
                        <DataGridTextColumn Header="{DynamicResource ColumnId}" Binding="{Binding Id}" Width="60"/>
                        <DataGridTextColumn Header="{DynamicResource ColumnName}" Binding="{Binding Naziv}" Width="*" />
                        <DataGridTemplateColumn Header="{DynamicResource ColumnDescription}" Width="2*">
                            <DataGridTemplateColumn.CellTemplate>
                                <DataTemplate>
                                    <TextBlock Text="{Binding Opis}" TextWrapping="Wrap" Padding="4" />
                                </DataTemplate>
                            </DataGridTemplateColumn.CellTemplate>
                        </DataGridTemplateColumn>
                        <DataGridTextColumn Header="{DynamicResource ColumnInstructor}" Binding="{Binding InstruktorFullName}" Width="*" />
                    </DataGrid.Columns>
                </DataGrid>
            </Grid>
        </materialDesign:Card>

        <!-- Snackbar preko svega -->
        <materialDesign:Snackbar x:Name="MainSnackbar"
                             Grid.ColumnSpan="3"
                             MessageQueue="{materialDesign:MessageQueue}"
                             VerticalAlignment="Bottom"
                             Margin="16"/>
    </Grid>
</Window>
